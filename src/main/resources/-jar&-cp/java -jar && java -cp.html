<html>
<head>
  <title>Evernote Export</title>
  <basefont face="Segoe UI" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601505 (en-US, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: Segoe UI;
      font-size: 11pt;
    }
  </style>
</head>
<body>
<a name="2308"/>

<div>
<span><div style="min-height: 9pt; text-align: left;"><div><span style="color: rgb(0, 0, 255);"><b><br/></b></span></div><div><span style="color: rgb(0, 0, 255);"><b><br/></b></span></div><div><font style="font-size: 14pt; color: rgb(255, 70, 53);"><span style="font-weight: bold;">java</span> <span style="font-weight: bold;">-cp </span><span style="font-weight: bold;">mainClas</span><span style="font-weight: bold;">s顶级包名所在路径</span><span style="font-weight: bold;"> </span><span style="font-weight: bold;">mainClass全限定名</span> <span style="font-weight: bold;">param1 param2</span></font></div><div><span style="font-weight: bold; color: rgb(0, 0, 255);">java -jar和java -cp 都是运行时期JVM处理字节码文件的行为</span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">适用于</span><span style="font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;;">打包是没有指定主类</span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt;"><br/></span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt;"><br/></span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">1 java -cp 和 -classpath 一样，是指定当前类以及运行时所依赖其他类的路径，通常是类库，jar包之类。</span></div><div><span style="font-size: 10pt;"><br/></span></div><div><span style="font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;;">2 多个路径之间连接符： </span></div><div><span style="font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;;"> </span><span style="color: rgb(51, 51, 51);">window上分号“;”      比如 </span>j<span style="font-size: 14pt;">ava -cp .</span><span style="font-size: 14pt; font-weight: bold;">;</span><span style="font-size: 14pt;">d:\work\other.jar; d:\work\my.jar package.mainclass</span></div><div><span style="font-size: 11pt;">分号和两侧的路径之间不能有空格</span></div><div><font style="font-size: 11pt;"><br/></font></div><div><span style="color: rgb(51, 51, 51);"> </span><span style="color: rgb(51, 51, 51);">linux上冒号“:”           </span><span style="color: rgb(51, 51, 51);">比如 </span>j<span style="font-size: 14pt;">ava -cp .</span><span style="font-size: 14pt; font-weight: bold;">;</span><span style="font-size: 14pt;">d:\work\other.jar; d:\work\my.jar package.mainclass</span></div><div><span style="font-size: 11pt;">冒号和两侧的路径之间不能有空格</span></div><div><font style="font-size: 11pt;"><br/></font></div><div><span style="font-size: 11pt;">3 java -cp支持通配符</span></div><div>在/home/ocean/cptest路径下：</div><div>java -cp /home/ocean/cptest/java-demo-1.0-SNAPSHOT-jar-with-dependencies.jar org.testng.TestNG testng.xml</div><div>等价于</div><div>java -cp java-demo-1.0-SNAPSHOT-jar-with-dependencies.jar org.testng.TestNG testng.xml</div><div>等价于</div><div>java -cp /home/ocean/cptest/*.jar org.testng.TestNG testng.xml</div><div>等价于</div><div>java -cp &quot;/home/ocean/cptest/*&quot; org.testng.TestNG testng.xml</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-weight: bold;">坑</span><span style="color: rgb(51, 51, 51);">：<span style="color: rgb(51, 51, 51); font-size: 11pt;">1 cmd窗口默认是windows系统，所以可以使用</span></span></div><div><span style="font-size: 14pt; color: rgb(51, 51, 51);">         </span><span style="font-size: 14pt;">java -cp .</span><span style="font-size: 14pt; font-weight: bold;">;</span><span style="font-size: 14pt;">d:\work\other.jar; d:\work\my.jar packname.mainclassname</span></div><div><span style="color: rgb(51, 51, 51); font-weight: bold;">      </span></div><div><span style="color: rgb(51, 51, 51);">    <span style="color: rgb(51, 51, 51); font-size: 11pt;">    2  gitBash和powershell窗口不能识别</span></span><span style="font-size: 14pt; color: rgb(51, 51, 51);"> </span><span style="font-size: 14pt;">java -cp  patha;pathb package.mainclass</span> ,  </div><div>            <span style="font-size: 14pt; color: rgb(51, 51, 51);"> </span><span style="font-size: 14pt;">java -cp  patha</span><span style="font-size: 14pt; font-weight: bold;">:</span><span style="font-size: 14pt;">pathb package.mainclass</span> 又<span style="font-size: 11pt;">提示</span><span style="font-size: 11pt;">Could not find or load main   class</span></div><div><span style="font-size: 11pt;">            但是在linux系统下可以很好的运行</span><span style="font-size: 14pt;">java -cp  patha:pathb package.mainclass</span></div><div><span style="font-size: 14pt;">       </span><span style="font-size: 12pt;"> 所以验证分号时候用windows上的cmd；验证冒号的时候在 linux上验证，不要用gitbash或者powershell</span></div><div><span style="font-size: 14pt;">   </span></div><div><span style="font-size: 14pt;">    3</span> <span style="font-size: 11pt;">classloader只能在 -cp 后面的<b>直接路径</b>下寻找.class文件， 而不会在其子路径下寻找；</span></div><div><span style="font-size: 11pt;">        所以java -cp / mainClass 并不一定能正确加载class; 这也符合之前 classloader会在classpath直接对接package，</span></div><div><span style="font-size: 11pt;">        在classpath+package下寻找class文件</span></div><div><span style="font-size: 14pt;"> </span> <span style="font-size: 12pt;">    </span></div><div><br/></div><div><span style="color: rgb(209, 0, 255); font-weight: bold;">案例1</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>epanhai@CN-00001202 MINGW64 ~/Desktop/1</div><div>$ j<span style="color: rgb(50, 135, 18); font-weight: bold;">ava -cp JavaDemo-1.0-SNAPSHOT-jar-with-dependencies.jar org.testng.TestNG  testng.xml</span></div><div>name:dadaorufeng,age:29</div><div>name:zhangsan,age:28</div><div>name2:telorb</div><div>name2:telorb age: 28</div><div>===============================================</div><div>Suite1</div><div>Total tests run: 4, Passes: 4, Failures: 0, Skips: 0</div><div>===============================================</div><div>epanhai@CN-00001202 MINGW64 ~/Desktop/1</div><div>$</div></div><div><br/></div></div><div><span style="font-size: 9pt; color: rgb(50, 135, 18); font-family: &quot;Lucida Console&quot;; font-weight: bold;">对于 java -jar中的案例2，同样可以由java -cp xx.jar MainClass param 方式执行</span></div><div><img src="java -jar && java -cp_files/Image.png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="color: rgb(209, 0, 255); font-weight: bold;">案例2</span></div><div><img src="java -jar && java -cp_files/Image [1].png" type="image/png" data-filename="Image.png" width="124"/></div><div><img src="java -jar && java -cp_files/Image [2].png" type="image/png" data-filename="Image.png" width="325"/></div><div><img src="java -jar && java -cp_files/Image [3].png" type="image/png" data-filename="Image.png" width="402"/></div><div><br/></div><div><img src="java -jar && java -cp_files/Image [4].png" type="image/png" data-filename="Image.png"/></div><div style="min-height: 9pt; text-align: left;"><span style="font-size: 12pt;"><br/></span></div><div style="min-height: 9pt; text-align: left;"><span style="font-size: 12pt;"><br/></span></div><div style="min-height: 9pt; text-align: left;"><span style="font-size: 12pt;"><br/></span></div><div style="min-height: 9pt; text-align: left;"><span style="font-size: 12pt;"><br/></span></div><div style="min-height: 9pt; text-align: left;"><span style="font-size: 12pt;"><br/></span></div><div style="min-height: 9pt; text-align: left;"><span style="font-size: 12pt;"><br/></span></div><div style="min-height: 9pt; text-align: left;"><span style="font-size: 12pt;"><br/></span></div><div style="min-height: 9pt; text-align: left;"><span style="font-size: 12pt;"><br/></span></div><div style="min-height: 9pt; text-align: left;"><span style="font-size: 12pt;"><br/></span></div><div style="min-height: 9pt; text-align: left;"><span style="color: rgb(255, 70, 53); font-family: &quot;Lucida Console&quot;; font-weight: bold;"><font style="font-size: 14pt;">java -jar 可执行jar param1 param2</font></span></div><div style="min-height: 9pt; text-align: left;"><span style="font-weight: bold; color: rgb(0, 0, 255);">java -jar和java -cp 都是运行时期JVM处理字节码文件的行为</span><br/></div><div style="min-height: 9pt; text-align: left;">清单文件中META-INF\MANIFEST.MF指明主类，适合执行可执行jar</div><div style="min-height: 9pt; text-align: left;"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><br/></span></span></span></div><div style="min-height: 9pt; text-align: left;"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; font-family: &quot;Lucida Console&quot;; font-weight: bold;">普通maven工程中可执行jar包可以由</span></span></span><span style="font-size: 9pt;"><span style="font-size: 9pt; font-family: &quot;Lucida Console&quot;; font-weight: bold;">maven-shade-plugin创建</span></span></div><div style="min-height: 9pt; text-align: left;"><span style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(1, 1, 1); font-family: &quot;Lucida Console&quot;; font-weight: bold;">运行可执行jar包，会自动到 jar 包中查询</span></span><span style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(1, 1, 1); font-family: &quot;Lucida Console&quot;; font-weight: bold;">META-INF/</span></span><span style="font-size: 9pt; color: rgb(1, 1, 1); font-family: &quot;Lucida Console&quot;; font-weight: bold;">MANIFEST.MF中定义的启动类并运行</span><span style="font-size: 9pt; color: rgb(1, 1, 1); font-family: &quot;Lucida Console&quot;; font-weight: bold;">jar里面是资源文件和.class文件</span></div><div style="text-align: left;"><br/></div><div style="text-align: left;"><br/></div><div style="text-align: left;"><span style="color: rgb(209, 0, 255); font-weight: bold;">案例1</span></div><div style="text-align: left;"><span style="font-size: 9pt; font-family: &quot;Lucida Console&quot;; font-weight: bold;">java -jar 可执行jar   </span></div><div style="text-align: left;"><img src="java -jar && java -cp_files/Image [5].png" type="image/png" data-filename="Image.png" width="602"/></div><div style="text-align: left;"><br/></div><div style="text-align: left;"><span style="font-size: 9pt; color: rgb(1, 1, 1); font-family: &quot;Lucida Console&quot;; font-weight: bold;">MANIFEST.MF内容入下：</span></div><div style="text-align: left;"><img src="java -jar && java -cp_files/Image [6].png" type="image/png" data-filename="Image.png" width="355"/></div><div style="text-align: left;"><br/></div><div style="text-align: left;"><br/></div><div style="text-align: left;"><br/></div><div style="text-align: left;"><span style="font-size: 10pt; font-weight: bold;"><img src="java -jar && java -cp_files/Image [7].png" type="image/png" data-filename="Image.png"/></span></div><div style="text-align: left;"></div><div style="text-align: left;"><span style="font-weight: bold;">java -jar xx.jar  后面不带参数</span></div><div style="text-align: left;"><span style="color: rgb(209, 0, 255); font-weight: bold;"><img src="java -jar && java -cp_files/Image [8].png" type="image/png" data-filename="Image.png"/></span></div><div style="text-align: left;"><br/></div><div style="text-align: left;"><br/></div><div style="text-align: left;"><br/></div><div style="text-align: left;"><span style="color: rgb(209, 0, 255); font-weight: bold;">案例2</span></div><div style="text-align: left;"><font style="font-size: 10pt;"><span style="font-size: 10pt; font-family: &quot;Lucida Console&quot;; font-weight: bold;">java -jar 可执行jar param1 param2</span></font></div><div style="text-align: left;"><img src="java -jar && java -cp_files/Image [9].png" type="image/png" data-filename="Image.png" width="602"/></div><div style="text-align: left;"><br/></div><div style="text-align: left;"><span style="font-size: 9pt; color: rgb(1, 1, 1); font-family: &quot;Lucida Console&quot;; font-weight: bold;">MANIFEST.MF内容入下：</span></div><div style="text-align: left;"><img src="java -jar && java -cp_files/Image [10].png" type="image/png" data-filename="Image.png" width="355"/></div><div style="text-align: left;"><br/></div><div style="text-align: left;">主函数可以接受参数，并打印到console</div><div style="text-align: left;"><img src="java -jar && java -cp_files/Image [11].png" type="image/png" data-filename="Image.png"/></div><div style="text-align: left;"><br/></div><div style="text-align: left;">java -jar xxx.jar param1 param2 param3</div><div style="text-align: left;"><img src="java -jar && java -cp_files/Image [12].png" type="image/png" data-filename="Image.png"/></div><div style="text-align: left;"><br/></div><div style="text-align: left;"><br/></div><div style="text-align: left;"><br/></div><div style="text-align: left;"><span style="color: rgb(209, 0, 255); font-weight: bold;">案例3</span></div><div style="text-align: left;"><span style="font-size: 10pt; font-family: &quot;Lucida Console&quot;; font-weight: bold;">案例2的特例：java -jar 可执行jar testng.xml       </span> <font style="font-size: 10pt;"><span style="font-size: 10pt; font-family: &quot;Lucida Console&quot;; font-weight: bold;">  这里的主类是</span><span style="font-size: 10pt; font-weight: bold;">org.testng.TestNG</span></font></div><div style="min-height: 9pt; text-align: left;"><div><span style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(1, 1, 1); font-family: &quot;Lucida Console&quot;; font-weight: bold;"><img src="java -jar && java -cp_files/Image [13].png" type="image/png" data-filename="Image.png"/></span></span></div><div><br/></div></div><div style="min-height: 9pt; text-align: left;"><span style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(1, 1, 1); font-family: &quot;Lucida Console&quot;; font-weight: bold;">MANIFEST.MF内容入下：</span></span></div><div style="text-align: left;"><img src="java -jar && java -cp_files/Image [14].png" type="image/png" data-filename="Image.png" width="340"/></div><div style="min-height: 9pt; text-align: left;"><br/></div><div style="min-height: 9pt; text-align: left;"><img src="java -jar && java -cp_files/Image [15].png" type="image/png" data-filename="Image.png" width="523"/></div><div style="min-height: 9pt; text-align: left;"><span style="font-size: 9pt;"><br/></span></div><div style="min-height: 9pt; text-align: left;"><span style="font-size: 9pt;"><img src="java -jar && java -cp_files/Image [16].png" type="image/png" data-filename="Image.png" width="574"/></span></div><div style="min-height: 9pt; text-align: left;"><br/></div><div style="min-height: 9pt; text-align: left;"><br/></div><div style="min-height: 9pt; text-align: left;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-weight: bold;">epanhai@CN-00001202 MINGW64 ~/Desktop/1</span></div><div>$ ls</div><div>JavaDemo-1.0-SNAPSHOT-jar-with-dependencies.jar  testng.xml </div><div><br/></div><div><span style="font-weight: bold;">epanhai@CN-00001202 MINGW64 ~/Desktop/1</span></div><div><span style="font-weight: bold; color: rgb(50, 135, 18);">$</span> <span style="font-weight: bold; color: rgb(28, 51, 135);">java -jar</span> <span style="font-weight: bold; color: rgb(50, 135, 18);">JavaDemo-1.0-SNAPSHOT-jar-with-dependencies.jar</span> <span style="font-weight: bold; color: rgb(65, 0, 125);">testng.xml</span></div><div>name:dadaorufeng,age:29</div><div>name:zhangsan,age:28</div><div>name2:telorb</div><div>name2:telorb age: 28</div><div>===============================================</div><div>Suite1</div><div>Total tests run: 4, Passes: 4, Failures: 0, Skips: 0</div><div>===============================================</div><div>epanhai@CN-00001202 MINGW64 ~/Desktop/1</div><div>$</div><div><br/></div><div>猜测：标准的suite.xml文件可以作为org.testng.TestNG主类的参数</div></div><div><br/></div><h1 style="outline: 0px; margin: 0.67em 0px; padding: 0px; overflow-wrap: break-word;"><br/></h1><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">Note:</span></div><div><span style="outline: 0px; overflow-wrap: break-word; font-size: 10pt;">运行jar包时可以指定端口：java -jar xxx.jar --server.port=8088</span></div><div><br/></div><div><br/></div></span>
</div></body></html> 
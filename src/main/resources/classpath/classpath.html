<html>
<head>
  <title>Evernote Export</title>
  <basefont face="Segoe UI" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601505 (en-US, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: Segoe UI;
      font-size: 11pt;
    }
  </style>
</head>
<body>
<a name="2336"/>

<div>
<span><div style="text-align: start;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(245, 250, 254); font-size: 11pt;"><span style="background-color: rgb(245, 250, 254); font-size: 11pt;"><br/></span></span></div><div style="text-align: start;"><font style="font-size: 14pt;"><span style="font-size: 14pt; color: rgb(209, 0, 255); font-weight: bold;">classpath概念</span></font></div><div style="text-align: start;"><font style="font-size: 14pt;"><br/></font></div><div style="text-align: start;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(245, 250, 254); font-size: 11pt;"><span style="background-color: rgb(245, 250, 254); font-size: 11pt; color: rgb(0, 0, 255); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">时间：</span></span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(245, 250, 254); font-size: 11pt; color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">运行期间 java xxx 需要根据classpath寻找字节码文件;  </span></div><div style="text-align: start;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(245, 250, 254); font-size: 11pt; color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">           编译期间：</span> <span style="color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;; font-weight: bold;">当前编译的java文件中引用了其它的类， 那么编译期间也需要</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(245, 250, 254); font-size: 11pt; color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">根据classpath寻找依赖类的字节码文件</span></div><div style="text-align: start;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(245, 250, 254); font-size: 11pt;"><span style="background-color: rgb(245, 250, 254); font-size: 11pt; color: rgb(0, 0, 255); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">定义：</span></span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(245, 250, 254); font-size: 11pt; color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">.class字节码文件所在的路径；classpath就是classloader的地图</span></div><div style="text-align: start;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(245, 250, 254); font-size: 11pt;"><span style="background-color: rgb(245, 250, 254); font-size: 11pt; color: rgb(0, 0, 255); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">行为：</span><span style="background-color: rgb(245, 250, 254); font-size: 11pt; color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">ClassLoader即类加载器根据classpath负责将 .class 文件(可能在磁盘上, 也可能在网络上) 加载到内存中, 并为之生成对应的     java.lang.Class 对象; </span></span></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><span style="font-size: 14.6667px; background-color: rgb(245, 250, 254); color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-weight: bold;">对于DOS/Powershell/Gitbash来说：</span></div><div style="text-align: start;"><span style="font-size: 11pt; color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;;">classpath没有设置，</span><span style="font-size: 11pt; color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;;">ClassLoader</span><span style="font-size: 11pt; color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;;">首先默认从当前路径寻找加载字节码文件</span></div><div style="text-align: start;"><span style="font-size: 11pt; color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;;">classpath设置后，</span><span style="font-size: 11pt; color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;;">ClassLoader会从指定的classpath中加载class文件</span></div><div style="text-align: start;"><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun;">classpath是给</span><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun;">ClassLoader指明所要加载class文件的路径</span></div><div style="text-align: start;"><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun;">classpath属于java环境的环境变量，不属于操作系统环境变量</span></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(0, 0, 255); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">Java 解释器的工作程序如下</span><span style="font-size: 13px; color: rgb(0, 0, 255); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">：</span></span></div><div style="text-align: start;"><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">首先，它找到环境变量CLASSPATH（</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">将Java 或者具有Java 解释能力的工具——如浏览器——安装到机器中时，通过操作系统进行设定</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">）。CLASSPATH 包含了一个或多个目录，它们作为一种特殊的“根”使用，从这里展开对.class 文件的搜索。从那个根开始，解释器会</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">会</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">根据package</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">寻找包名，并将每个点号（句点）替换成一个斜杠，从而生成从CLASSPATH 根开始的一个路径名（所以package foo.bar.baz 会变成foo\bar\baz 或者foo/bar/baz；具体是正斜杠还是反斜杠由操作系统决定。另外classpath和package name是“直接对接的”，也就是</span><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">classpath直接面对或者对接package name</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">,</span></div><div style="text-align: start;">不允许存在“中间路径”，如果在classpath路径下面的子目录中执行 java 全类名也会提示无法加载class异常</div><div style="text-align: start;"><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(50, 135, 18); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">classLoader 根据 classpath+package/.class 在磁盘上寻找加载class文件</span></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><span style="color: rgb(229, 0, 255); font-weight: bold;">classpath案例1</span>(<span style="font-weight: bold;">不带package， javac等价于javac -d</span>)</div><div style="text-align: start;">假设classpath设置如下：</div><div style="text-align: start;"><img src="classpath_files/Image.png" type="image/png" data-filename="Image.png"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">编译完成后，桌面上有如下两个 文件(<span style="font-weight: bold;">不带package</span>)</div><div style="text-align: start;"><img src="classpath_files/Image [1].png" type="image/png" data-filename="Image.png" width="175"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">在运行期间ClassLoader根据设置的classpath会到c:\er去寻找class文件，不会再从默认的当前路径寻找，所以解释器无法找到所要加载的class文件，所以报错如下</div><div style="text-align: start;"><img src="classpath_files/Image [2].png" type="image/png" data-filename="Image.png" width="467"/></div><div style="text-align: start;">&quot;近在眼前找不到&quot;</div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><span style="font-size: 10pt;">当classpath重新设置成当前目录 . 或者不设置，</span><span style="font-size: 10pt; font-weight: bold;">重启dos窗口</span><span style="font-size: 10pt;">运行恢复正常</span></div><div style="text-align: start;"><img src="classpath_files/Image [3].png" type="image/png" data-filename="Image.png" style="font-weight: bold; color: rgb(229, 0, 255);" width="323"/></div><div style="text-align: start;"><img src="classpath_files/Image [4].png" type="image/png" data-filename="Image.png" style="font-weight: bold; font-size: 14pt; color: rgb(229, 0, 255);" width="393"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><span style="font-size: 10pt;">现在把classpath设置成桌面</span></div><div style="text-align: start;"><img src="classpath_files/Image [5].png" type="image/png" data-filename="Image.png" style="font-weight: bold; color: rgb(229, 0, 255);" width="338"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><span style="font-size: 10pt;">然后我们在非desktop路径（用户目录）下运行class文件,classloader会从桌面路径加载class文件，所以一切正常</span></div><div style="text-align: start;"><img src="classpath_files/Image [6].png" type="image/png" data-filename="Image.png" style="font-weight: bold; color: rgb(229, 0, 255);" width="341"/></div><div style="text-align: start;">远在天边也能找到</div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><span style="color: rgb(229, 0, 255); font-weight: bold;">classpath案例2</span><span style="font-weight: bold;">（dos窗口编译运行带有package的类）</span></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><img src="classpath_files/Image [7].png" type="image/png" data-filename="Image.png" width="368"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">下面这种编译方式生成的class文件不会包含包信息</div><div style="text-align: start;"><img src="classpath_files/Image [8].png" type="image/png" data-filename="Image.png" width="437"/></div><div style="text-align: start;"><img src="classpath_files/Image [9].png" type="image/png" data-filename="Image.png" width="186"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">无论是否全类名运行，都提示 Could not find or load main class com.Stu</div><div style="text-align: start;"><img src="classpath_files/Image [10].png" type="image/png" data-filename="Image.png" width="594"/></div><div style="text-align: start;"><span style="font-size: 13px;"><span style="font-size: 13px;"><br/></span></span></div><div style="text-align: start;"><span style="font-size: 13px;"><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: Verdana, Arial, Helvetica, sans-serif; font-weight: bold;">原因：</span></span></div><div style="text-align: start;"><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: Verdana, Arial, Helvetica, sans-serif;"><span style="color: rgb(17, 17, 17); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px; font-weight: bold;">关于java com.Stu</span>  classloader会从classpath(假设是当前工作目录)展开对.class 文件的搜索，然后</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">解释器会根据package寻找包名</span>，并将每个点号（句点）替换成一个斜杠，从而生成从CLASSPATH 根开始 的                               一 个路径名，这里就是./com/Stu.class，</span><span style="font-size: 10pt; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">对于带有package的.java文件，javac  .java源文件   会直接在当前路径下生成.class文件，不会生成包名对应的com目录，</span><span style="font-size: 10pt; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">导致后面java解释执行的                                     时候找不到.class文件</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">，所以报错</span></div><div style="text-align: start;"><span style="font-size: 13px;"><br/></span></div><div style="text-align: start;"><span style="font-size: 13px; color: rgb(17, 17, 17); font-family: Verdana, Arial, Helvetica, sans-serif;"><span style="color: rgb(17, 17, 17); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px; font-weight: bold;">关于java Stu   </span>       这里运行时候没有使用全类名，注定会失败； 原因</span><span style="font-size: 10pt; color: rgb(17, 17, 17); font-family: Verdana;">个人推测：解释器根据classapth+包路径(这里为空)找到Stu.class, 但是发现这个class文件中带有package， 命令中的Stu和实际                                      的.class文件”身份“（命令行中的class不带有package, 实际的 .class文件带有package）不一致，所以失败。</span> <span style="font-size: 13px; color: rgb(17, 17, 17); font-family: Verdana, Arial, Helvetica, sans-serif;"> </span></div><div style="text-align: start;"><span style="font-size: 10pt; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;"> </span></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><span style="font-size: 13px;"><span style="font-size: 13px; font-weight: bold;">正确做法：</span></span></div><div style="text-align: start;">javac -d 编译输出路径  .java， 这里的-d是指向classpath,  <span style="font-weight: bold;">最终class文件的路径是-d路径+包路径</span></div><div style="text-align: start;"><img src="classpath_files/Image [11].png" type="image/png" data-filename="Image.png" width="511"/></div><div style="text-align: start;">这样生成的字节码文件带有包信息</div><div style="text-align: start;"><img src="classpath_files/Image [12].png" type="image/png" data-filename="Image.png"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">全类名运行生成的文件</div><div style="text-align: start;"><img src="classpath_files/Image [13].png" type="image/png" data-filename="Image.png" width="406"/></div><div style="text-align: start;"><span style="font-size: 10pt; font-weight: bold;">注意：解释器java后面必须跟全类名  </span><span style="font-size: 10pt; font-weight: bold;">java  java全类名</span></div><div style="text-align: start;">解释器会根据 -d路径(指向classpath)+包路径去寻找.class文件</div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><span style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">总结</span>：当cmd运行带有package的类时，采用</span> <span style="font-size: 10pt; color: rgb(50, 135, 18); font-weight: bold;">javac -d 编译输出目录 *.java</span> <span style="font-size: 10pt; font-weight: bold;">进行编译</span><span style="font-size: 10pt; color: rgb(50, 135, 18); font-weight: bold;">，</span><span style="font-weight: bold;">最终class文件的路径是-d路径+包路径</span></div><div style="text-align: start;">                                                             采用 <span style="color: rgb(50, 135, 18); font-weight: bold;">java 全类名 </span>进行解释运行   <span style="font-size: 10pt; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">只有全类名才能准确加载.class</span></div><div style="text-align: start;"><span style="font-size: 10pt; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;">          不带有package时也推荐这种方法编译运行</span></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><span style="font-size: 10pt;"><br/></span></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><span style="color: rgb(229, 0, 255); font-weight: bold;">classpath案例3</span></div><div style="text-align: start;"><img src="classpath_files/Image [14].png" type="image/png" data-filename="Image.png" width="230"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">A.java</div><div style="text-align: start;"><img src="classpath_files/Image [15].png" type="image/png" data-filename="Image.png" width="426"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">B.java</div><div style="text-align: start;"><img src="classpath_files/Image [16].png" type="image/png" data-filename="Image.png" width="435"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">由于B中依赖A,  对B进行编译的时候需要加载others.A的字节码文件，所以先编译A,再编译B</div><div style="text-align: start;"><img src="classpath_files/Image [17].png" type="image/png" data-filename="Image.png" width="475"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">或者同时编译两个文件（由编译器决定编译顺序）</div><div style="text-align: start;"><img src="classpath_files/Image [18].png" type="image/png" data-filename="Image.png"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">编译输出目录 如下图：</div><div style="text-align: start;"><img src="classpath_files/Image [19].png" type="image/png" data-filename="Image.png" width="247"/>                     <img src="classpath_files/Image [20].png" type="image/png" data-filename="Image.png" width="258"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><span style="font-size: 10pt;">运行:</span></div><div style="text-align: start;"><img src="classpath_files/Image [21].png" type="image/png" data-filename="Image.png" width="432"/></div><div style="text-align: start;">由于others.A和others.timer.B都在设置的classpath下，所以能正常执行</div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><span style="color: rgb(229, 0, 255); font-weight: bold;">classpath案例4</span></div><div style="text-align: start;"><br/></div><div style="text-align: start;">desktop路径下：</div><div style="text-align: start;"><img src="classpath_files/Image [22].png" type="image/png" data-filename="Image.png" width="229"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">A.java</div><div style="text-align: start;"><img src="classpath_files/Image [23].png" type="image/png" data-filename="Image.png" width="426"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">B.java</div><div style="text-align: start;"><img src="classpath_files/Image [24].png" type="image/png" data-filename="Image.png" width="446"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">classpath设置如下：</div><div style="text-align: start;"><img src="classpath_files/Image [25].png" type="image/png" data-filename="Image.png" width="522"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">编译运行正常</div><div style="text-align: start;"><img src="classpath_files/Image [26].png" type="image/png" data-filename="Image.png"/></div><div style="text-align: start;"><img src="classpath_files/Image [27].png" type="image/png" data-filename="Image.png" width="268"/>             <img src="classpath_files/Image [28].png" type="image/png" data-filename="Image.png" width="291"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">此时我们把 a目录(包含A.class) 移动到桌面目录下的dir目录下</div><div style="text-align: start;"><img src="classpath_files/Image [29].png" type="image/png" data-filename="Image.png" width="243"/>         <img src="classpath_files/Image [30].png" type="image/png" data-filename="Image.png" width="267"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">此时classLoader无法在当前路径以及Desktop路径（这里两者重合）寻找加载A.class文件,所以会报classNotFoundExecption</div><div style="text-align: start;"><img src="classpath_files/Image [31].png" type="image/png" data-filename="Image.png"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">重新修改classpath,把C:\Users\epanhai\Desktop\dir也加入classpath</div><div style="text-align: start;"><img src="classpath_files/Image [32].png" type="image/png" data-filename="Image.png"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">在用户目录下进行编译运行，classLoader可以在指定的classpath下找到指定的class文件</div><div style="text-align: start;"><img src="classpath_files/Image [33].png" type="image/png" data-filename="Image.png"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;">不修改classpath可以采用java -cp的方式指定classpath</div><div style="text-align: start;"><img src="classpath_files/Image [34].png" type="image/png" data-filename="Image.png"/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><span style="color: rgb(229, 0, 255); font-weight: bold;">classpath案例5</span></div><div style="min-height: 9pt; text-align: start;"><div><span style="color: rgb(50, 135, 18); font-weight: bold;">java -cp</span> <span style="color: rgb(65, 0, 125); font-weight: bold;">dir;jarpath</span><span style="color: rgb(50, 135, 18); font-weight: bold;"> </span><span style="color: rgb(147, 150, 0); font-weight: bold;">全类名</span> <span style="color: rgb(45, 79, 201); font-weight: bold;">param1 param2</span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">java -cp 和 -classpath 一样，是指定运行类以及运行类所依赖其他类的路径(classpath)，通常是目录、jar包路径，</span></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-weight: bold;">当存在多个classapth时：</span></div><div><span style="color: rgb(51, 51, 51);">window上分号“;”    </span></div><div><span style="color: rgb(51, 51, 51);">linux上分号“:”</span></div><div><span style="font-family: Monaco;"><img src="classpath_files/Image [35].png" type="image/png" data-filename="Image.png"/></span></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="color: rgb(229, 0, 255); font-weight: bold;">classpath案例6</span></div><div><br/></div><div>把fastjson的jar拷贝到一个普通java工程的根目录下的lib目录下，然后build path(告诉idea或者java解释器fastjson的classpath),然后代码中就可以正常使用fastjson相关的类</div><div><br/></div><div>idea build path: </div><div><img src="classpath_files/Image [36].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div>build好之后的效果：</div><div><img src="classpath_files/Image [37].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div>现在可以正常使用fastjson的library</div><div><img src="classpath_files/Image [38].png" type="image/png" data-filename="Image.png" width="523"/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="color: rgb(229, 0, 255); font-weight: bold;">classpath案例7</span></div><div><img src="classpath_files/Image [39].png" type="image/png" data-filename="Image.png" width="124"/></div><div><img src="classpath_files/Image [40].png" type="image/png" data-filename="Image.png" width="325"/></div><div><img src="classpath_files/Image [41].png" type="image/png" data-filename="Image.png" width="402"/></div><div><br/></div><div><img src="classpath_files/Image [42].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><span style="color: rgb(229, 0, 255); font-weight: bold;">classpath案例8</span></div><div><span style="font-size: medium; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: &quot;Microsoft YaHei&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">pom.xml+import(reimport)建立classpath,最终的效果就是External Libraries中包含工程所需要的classpath</span></div><div>(详见maven笔记本--&gt;其它--&gt;Mven classpath)</div><div><br/></div><div><br/></div><div><span style="color: rgb(229, 0, 255); font-weight: bold;">classpath案例9</span></div><div><span style="font-weight: bold;">idea 建立的普通java工程以最顶级的包名a为起点使用7.zip把a目录打包成a.zip,然后修改后缀名为a.jar</span></div><div><span style="font-weight: bold;">在TestClassPath目录下执行如下命令：java -cp a.jar a.b.MainClass</span></div><div><br/></div><div><span style="color: rgb(229, 0, 255); font-weight: bold;"><img src="classpath_files/Image [43].png" type="image/png" data-filename="Image.png"/></span></div><div><img src="classpath_files/Image [44].png" type="image/png" data-filename="Image.png"/></div><div><br/></div></span>
</div></body></html> 